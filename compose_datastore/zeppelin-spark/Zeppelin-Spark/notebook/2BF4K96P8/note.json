{
  "paragraphs": [
    {
      "text": "%md Zeppelin can interact with [ElasticSearch](http://elastic.co) via an [ElasticSearch interpreter](http://zeppelin.incubator.apache.org/docs/0.6.0-incubating-SNAPSHOT/interpreter/elasticsearch.html), and also via Spark. This notebook uses the ElasticSearch Interpreter\n\nFirst, let\u0027s use the shell interpreter to be sure that [Docker Compose](https://www.docker.com/products/docker-compose) has linked our ElasticSearch container and that we can reach it...",
      "user": "anonymous",
      "dateUpdated": "Dec 1, 2017 6:34:10 PM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "editorSetting": {}
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003cp\u003eZeppelin can interact with \u003ca href\u003d\"http://elastic.co\"\u003eElasticSearch\u003c/a\u003e via an \u003ca href\u003d\"http://zeppelin.incubator.apache.org/docs/0.6.0-incubating-SNAPSHOT/interpreter/elasticsearch.html\"\u003eElasticSearch interpreter\u003c/a\u003e, and also via Spark. This notebook uses the ElasticSearch Interpreter\u003c/p\u003e\n\u003cp\u003eFirst, let\u0026rsquo;s use the shell interpreter to be sure that \u003ca href\u003d\"https://www.docker.com/products/docker-compose\"\u003eDocker Compose\u003c/a\u003e has linked our ElasticSearch container and that we can reach it\u0026hellip;\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "result": {
        "code": "SUCCESS",
        "type": "HTML",
        "msg": "\u003cp\u003eZeppelin can interact with \u003ca href\u003d\"http://elastic.co\"\u003eElasticSearch\u003c/a\u003e via an \u003ca href\u003d\"http://zeppelin.incubator.apache.org/docs/0.6.0-incubating-SNAPSHOT/interpreter/elasticsearch.html\"\u003eElasticSearch interpreter\u003c/a\u003e, and also via Spark. This notebook uses the ElasticSearch Interpreter\u003c/p\u003e\n\u003cp\u003eFirst, let\u0027s use the shell interpreter to be sure that \u003ca href\u003d\"https://www.docker.com/products/docker-compose\"\u003eDocker Compose\u003c/a\u003e has linked our ElasticSearch container and that we can reach it\u0026hellip;\u003c/p\u003e\n"
      },
      "apps": [],
      "jobName": "paragraph_1459607004775_1958851938",
      "id": "20160402-142324_318135174",
      "dateCreated": "Apr 2, 2016 2:23:24 AM",
      "dateStarted": "Dec 1, 2017 6:34:10 PM",
      "dateFinished": "Dec 1, 2017 6:34:11 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh curl -is http://elasticsearch:9200/",
      "user": "anonymous",
      "dateUpdated": "Dec 1, 2017 6:34:01 PM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/text",
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "HTTP/1.1 200 OK\r\ncontent-type: application/json; charset\u003dUTF-8\r\ncontent-length: 433\r\n\r\n{\n  \"name\" : \"IM0CPD8\",\n  \"cluster_name\" : \"docker-cluster\",\n  \"cluster_uuid\" : \"LABxoMl3RQO0ypv3GULNtQ\",\n  \"version\" : {\n    \"number\" : \"6.0.0\",\n    \"build_hash\" : \"8f0685b\",\n    \"build_date\" : \"2017-11-10T18:41:22.859Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"7.0.1\",\n    \"minimum_wire_compatibility_version\" : \"5.6.0\",\n    \"minimum_index_compatibility_version\" : \"5.0.0\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1459607106706_-602147299",
      "id": "20160402-142506_1963327239",
      "dateCreated": "Apr 2, 2016 2:25:06 AM",
      "dateStarted": "Dec 1, 2017 6:34:01 PM",
      "dateFinished": "Dec 1, 2017 6:34:02 PM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md Next, let\u0027s ensure the correct configuration for the ElasticSearch interpreter in Zeppelin\u0027s Interpreter settings.\n\nAll settings can be found [on the elasticsearch guide](https://www.elastic.co/guide/en/elasticsearch/hadoop/current/spark.html). Our list of settings should include:\n\n- elasticsearch.cluster.name `elasticsearch`\n- elasticsearch.host `elasticsearch`\n- elasticsearch.port `9300`\n\n \n\nIf we change these values, be sure to restart the interpreter when prompted. Once complete, insert some data...",
      "user": "anonymous",
      "dateUpdated": "Nov 22, 2017 10:51:03 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "editorSetting": {}
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003cp\u003eNext, let\u0026rsquo;s ensure the correct configuration for the ElasticSearch interpreter in Zeppelin\u0026rsquo;s Interpreter settings.\u003c/p\u003e\n\u003cp\u003eAll settings can be found \u003ca href\u003d\"https://www.elastic.co/guide/en/elasticsearch/hadoop/current/spark.html\"\u003eon the elasticsearch guide\u003c/a\u003e. Our list of settings should include:\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003eelasticsearch.cluster.name \u003ccode\u003eelasticsearch\u003c/code\u003e\u003c/li\u003e\n  \u003cli\u003eelasticsearch.host \u003ccode\u003eelasticsearch\u003c/code\u003e\u003c/li\u003e\n  \u003cli\u003eelasticsearch.port \u003ccode\u003e9300\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIf we change these values, be sure to restart the interpreter when prompted. Once complete, insert some data\u0026hellip;\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "result": {
        "code": "SUCCESS",
        "type": "HTML",
        "msg": "\u003cp\u003eNext, let\u0027s ensure the correct configuration for the ElasticSearch interpreter in Zeppelin\u0027s Interpreter settings.\u003c/p\u003e\n\u003cp\u003eAll settings can be found \u003ca href\u003d\"https://www.elastic.co/guide/en/elasticsearch/hadoop/current/spark.html\"\u003eon the elasticsearch guide\u003c/a\u003e. Our list of settings should include:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eelasticsearch.cluster.name \u003ccode\u003eelasticsearch\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eelasticsearch.host \u003ccode\u003eelasticsearch\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eelasticsearch.port \u003ccode\u003e9300\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIf we change these values, be sure to restart the interpreter when prompted. Once complete, insert some data\u0026hellip;\u003c/p\u003e\n"
      },
      "apps": [],
      "jobName": "paragraph_1459607135731_1345713788",
      "id": "20160402-142535_382223669",
      "dateCreated": "Apr 2, 2016 2:25:35 AM",
      "dateStarted": "Nov 22, 2017 10:51:04 AM",
      "dateFinished": "Nov 22, 2017 10:51:05 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%elasticsearch\n\nindex /logs/http {\n  \"date\": \"2015-12-08T21:03:13.588Z\",\n  \"request\": {\n    \"method\": \"GET\",\n    \"url\": \"/zeppelin/4cd001cd-c517-4fa9-b8e5-a06b8f4056c4\",\n    \"headers\": [ \"Accept: *.*\", \"Host: apache.org\"]\n  },\n  \"status\": \"403\",\n  \"content_length\": 1234\n}",
      "user": "anonymous",
      "dateUpdated": "Dec 5, 2017 10:46:30 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/undefined",
        "results": {},
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "Error : None of the configured nodes are available: [{#transport#-1}{127.0.0.1}{127.0.0.1:9300}]"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1459607369643_2073952035",
      "id": "20160402-142929_128771809",
      "dateCreated": "Apr 2, 2016 2:29:29 AM",
      "dateStarted": "Dec 5, 2017 10:46:30 AM",
      "dateFinished": "Dec 5, 2017 10:46:32 AM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md and then query the data...",
      "user": "anonymous",
      "dateUpdated": "Nov 22, 2017 11:06:31 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "editorSetting": {}
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003cp\u003eand then query the data\u0026hellip;\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "result": {
        "code": "SUCCESS",
        "type": "HTML",
        "msg": "\u003cp\u003eand then query the data\u0026hellip;\u003c/p\u003e\n"
      },
      "apps": [],
      "jobName": "paragraph_1459629463224_-1008616153",
      "id": "20160402-203743_217235946",
      "dateCreated": "Apr 2, 2016 8:37:43 AM",
      "dateStarted": "Nov 22, 2017 11:06:31 AM",
      "dateFinished": "Nov 22, 2017 11:06:31 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%elasticsearch search [{#transport#-1}{127.0.0.1}{127.0.0.1:9300}]",
      "user": "anonymous",
      "dateUpdated": "Dec 5, 2017 10:53:21 AM",
      "config": {
        "colWidth": 12.0,
        "enabled": true,
        "editorMode": "ace/mode/undefined",
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "Error : None of the configured nodes are available: [{#transport#-1}{127.0.0.1}{127.0.0.1:9300}]"
          }
        ]
      },
      "result": {
        "code": "SUCCESS",
        "type": "TABLE",
        "msg": "content_length\tdate\trequest.headers[0]\trequest.headers[1]\trequest.method\trequest.url\tstatus\n1234\t2015-12-08T21:03:13.588Z\tAccept: *.*\tHost: apache.org\tGET\t/zeppelin/4cd001cd-c517-4fa9-b8e5-a06b8f4056c4\t403\n"
      },
      "apps": [],
      "jobName": "paragraph_1459607697266_-620568750",
      "id": "20160402-143457_2047955666",
      "dateCreated": "Apr 2, 2016 2:34:57 AM",
      "dateStarted": "Dec 5, 2017 10:53:21 AM",
      "dateFinished": "Dec 5, 2017 10:53:21 AM",
      "status": "ERROR",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh\ncurl http://elasticsearch:9200/logstash-2*/_search?q\u003dphenomenonTime\u003e\"2017-12-05\"_",
      "user": "anonymous",
      "dateUpdated": "Dec 5, 2017 11:01:48 AM",
      "config": {
        "colWidth": 12.0,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true,
        "editorMode": "ace/mode/sh",
        "results": {},
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100  7372  100  7372    0     0   7372      0  0:00:01 --:--:--  0:00:01  146k\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1459629642511_1037706716",
      "id": "20160402-204042_810555519",
      "dateCreated": "Apr 2, 2016 8:40:42 AM",
      "dateStarted": "Dec 5, 2017 11:01:48 AM",
      "dateFinished": "Dec 5, 2017 11:01:48 AM",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh\n",
      "user": "anonymous",
      "dateUpdated": "Dec 5, 2017 10:47:04 AM",
      "config": {},
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1512470824160_1043910284",
      "id": "20171205-104704_1519110455",
      "dateCreated": "Dec 5, 2017 10:47:04 AM",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "ElasticSearch Interpreter",
  "id": "2BF4K96P8",
  "angularObjects": {
    "2D2WCQKTT:shared_process": [],
    "2D2BM4W1G:shared_process": [],
    "2CZR1BSNU:shared_process": [],
    "2D372FCW9:shared_process": [],
    "2D1RVVNU2:shared_process": [],
    "2CYNGYKVJ:shared_process": [],
    "2D2Y1WB34:shared_process": [],
    "2D25EYBVW:shared_process": [],
    "2D2VJQDW8:shared_process": []
  },
  "config": {},
  "info": {}
}